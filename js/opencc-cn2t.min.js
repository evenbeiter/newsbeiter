!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self).OpenCC={})}(this,function(t){"use strict";class n{constructor(){this.map=new Map}addWord(t,n){let{map:e}=this;for(let o of t){let i=o.codePointAt(0),l=e.get(i);if(null==l){let r=new Map;e.set(i,r),e=r}else e=l}e.trie_val=n}loadDict(t){if("string"==typeof t)for(let n of t=t.split("|")){let[e,o]=n.split(" ");this.addWord(e,o)}else for(let i of t){let[l,r]=i;this.addWord(l,r)}}loadDictGroup(t){t.forEach(t=>{this.loadDict(t)})}convert(t){let n=this.map,e=t.length,o=[],i;for(let l=0;l<e;){let r=n,a=0,u;for(let g=l;g<e;){let c=t.codePointAt(g);g+=c>65535?2:1;let f=r.get(c);if(void 0===f)break;r=f;let s=r.trie_val;void 0!==s&&(a=g,u=s)}a>0?(null!==i&&(o.push(t.slice(i,l)),i=null),o.push(u),l=a):(null===i&&(i=l),l+=t.codePointAt(l)>65535?2:1)}return null!==i&&o.push(t.slice(i,e)),o.join("")}}function ...alAlt&&(e.originalAlt=e.alt),e.alt=n(e.originalAlt)):"INPUT"===e.tagName&&"button"===e.type&&(null==e.originalValue&&(e.originalValue=e.value),e.value=n(e.originalValue))}for(let r of e.childNodes)r.nodeType===Node.TEXT_NODE&&l?(null==r.originalString&&(r.originalString=r.nodeValue),r.nodeValue=n(r.originalString)):t(r,l)}}(e,!1)},restore:function t(){!function t(n){if(!(n.nodeType===Node.ELEMENT_NODE&&n.classList.contains("ignore-opencc")))for(let e of(n.shouldChangeLang&&(n.lang=o),void 0!==n.originalString&&(n.nodeValue=n.originalString),"META"===n.tagName&&"description"===n.name?void 0!==n.originalContent&&(n.content=n.originalContent):"META"===n.tagName&&"keywords"===n.name?void 0!==n.originalContent&&(n.content=n.originalContent):"IMG"===n.tagName?void 0!==n.originalAlt&&(n.alt=n.originalAlt):"INPUT"===n.tagName&&"button"===n.type&&void 0!==n.originalValue&&(n.value=n.originalValue),n.childNodes))t(e)}(e)}}},t.Locale=l,t.Trie=n});const s2t=OpenCC.Converter({from:"cn",to:"tw"});
